<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>MGWv2</title>

  <link rel="stylesheet" href="style.css">
  <script type="text/javascript" src="common.js"></script>

  <style>
    input[type="number"].short {
      width: 5rem;
    }
  </style>

  <script type="text/javascript">
    function jsOnLoad() {
      jsInitMenu(9);
      jsGET('classd.json', jsLoadDone);
    }

    function jsLoadDone(rspText) {
      var j = JSON.parse(rspText);

      jsUdLbl("lblMonitorCh", j, "monitorCh");
      jsUdLbl("lblFaultsz", j, "faultsz");
      jsUdLbl("lblSzd", j, "szd");
      jsUdLbl("lblMute", j, "mute");
      jsUdLbl("lblThreshold", j, "threshold");
      jsUdLbl("lblSpk1", j, "spk1");
      jsUdLbl("lblSpk2", j, "spk2");
      jsUdLbl("lblSpk3", j, "spk3");
      jsUdLbl("lblSpk4", j, "spk4");

      jsUdTxt("cfgMonitorCh", j, "cfgMonitorCh");
      jsUdTxt("cfgSzdLeft", j, "cfgSzdLeft");
      jsUdTxt("cfgSzdRight", j, "cfgSzdRight");
      jsUdTxt("cfgMuteLeft", j, "cfgMuteLeft");
      jsUdTxt("cfgMuteRight", j, "cfgMuteRight");
      jsUdTxt("cfgThreshold", j, "cfgThreshold");
      jsUdTxt("cfgSpk1Offset", j, "cfgSpk1Offset");
      jsUdTxt("cfgSpk2Offset", j, "cfgSpk2Offset");
      jsUdTxt("cfgSpk3Offset", j, "cfgSpk3Offset");
      jsUdTxt("cfgSpk4Offset", j, "cfgSpk4Offset");
    }

    function jsSubmit() {
      document.forms[0].submit();
    }

    function jsReset() {
      document.forms[0].reset();
    }
  </script>
</head>

<body onload="jsOnLoad();">

  <div id="header">
  </div>

  <div id="nav">
  </div>

  <div id="content">
    <form method="post">
      <table style="padding-left:30px">
        <tr class="bh">
          <td class="tdh" colspan="2">ClassD status</td>
        </tr>
        <tr>
          <td class="small">Monitor Channel</td>
          <td><label id="lblMonitorCh">-</label></td>
        </tr>
        <tr>
          <td>faultsz (left, right)</td>
          <td><label id="lblFaultsz">-</label></td>
        </tr>
        <tr>
          <td>szd (left, right)</td>
          <td><label id="lblSzd">-</label></td>
        </tr>
        <tr>
          <td>mute (left, right)</td>
          <td><label id="lblMute">-</label></td>
        </tr>
        <tr>
          <td>Threshold</td>
          <td><label id="lblThreshold">-</label></td>
        </tr>
        <tr>
          <td>Speaker 1 (status, alarm, adc, offset)</td>
          <td><label id="lblSpk1">-</label></td>
        </tr>
        <tr>
          <td>Speaker 2 (status, alarm, adc, offset)</td>
          <td><label id="lblSpk2">-</label></td>
        </tr>
        <tr>
          <td>Speaker 3 (status, alarm, adc, offset)</td>
          <td><label id="lblSpk3">-</label></td>
        </tr>
        <tr>
          <td>Speaker 4 (status, alarm, adc, offset)</td>
          <td><label id="lblSpk4">-</label></td>
        </tr>
      </table>

      <table style="padding-left:30px">
        <tr class="bh">
          <td class="tdh" colspan="2">ClassD settings</td>
        </tr>
        <tr>
          <td class="small">Monitor Channel</td>
          <td>
            <select name="cfgMonitorCh">
              <option value="0">CH 1-3</option>
              <option value="1">CH 2-4</option>
              <option value="2" selected>-</option>
            </select>
          </td>
        </tr>
        <tr>
          <td>szd (left, right)</td>
          <td>
            <input type="number" class="short" name="cfgSzdLeft" value="0" min="0" max="100">
            <input type="number" class="short" name="cfgSzdRight" value="0" min="0" max="100">
          </td>
        </tr>
        <tr>
          <td>mute (left, right)</td>
          <td>
            <input type="number" class="short" name="cfgMuteLeft" value="0" min="0" max="1">
            <input type="number" class="short" name="cfgMuteRight" value="0" min="0" max="1">
          </td>
        </tr>
        <tr>
          <td>Threshold</td>
          <td><input type="number" name="cfgThreshold" value="5" min="0" max="100"></td>
        </tr>
        <tr>
          <td>Speaker 1 Offset</td>
          <td><input type="number" name="cfgSpk1Offset" value="15" min="0" max="100"></td>
        </tr>
        <tr>
          <td>Speaker 2 Offset</td>
          <td><input type="number" name="cfgSpk2Offset" value="15" min="0" max="100"></td>
        </tr>
        <tr>
          <td>Speaker 3 Offset</td>
          <td><input type="number" name="cfgSpk3Offset" value="15" min="0" max="100"></td>
        </tr>
        <tr>
          <td>Speaker 4 Offset</td>
          <td><input type="number" name="cfgSpk4Offset" value="15" min="0" max="100"></td>
        </tr>
      </table>

      <p style="text-align:left">
        <input type="button" onclick="jsSubmit()" value="Update">
        <input type="button" onclick="jsReset()" value="Default">
      </p>
    </form>
  </div>
</body>

</html>